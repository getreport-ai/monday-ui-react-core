import{slicedToArray as e}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as s}from"react/jsx-runtime";import t from"classnames";import{camelCase as r}from"lodash-es";import i,{forwardRef as o,useRef as a,useState as n,useEffect as l,useMemo as m,useCallback as d}from"react";import u from"../../../hooks/useGridKeyboardNavigation/useGridKeyboardNavigation.js";import c from"../../../hooks/useMergeRefs.js";import p from"../../../hooks/usePrevious/index.js";import{NOOP as f}from"../../../utils/function-utils.js";import{getTestId as b,ComponentDefaultTestId as v}from"../../../tests/test-ids-utils.js";import{getStyle as h}from"../../../helpers/typesciptCssModulesHelper.js";import I from"./TabList.module.scss.js";var j=o((function(o,j){var g=o.className,C=o.id,T=o.onTabChange,N=void 0===T?f:T,x=o.activeTabId,y=void 0===x?0:x,L=o.tabType,k=void 0===L?"Compact":L,A=o.size,O=o.children,B=o["data-testid"],S=a(null),_=c({refs:[j,S]}),E=n(y),G=e(E,2),H=G[0],K=G[1],M=p(y);l((function(){y!==M&&y!==H&&K(y)}),[y,M,H,K]);var P=m((function(){var e=new Set;return i.Children.forEach(O,(function(s,t){s.props.disabled&&e.add(t)})),e}),[O]),W=d((function(e){P.has(e)||(K(e),N&&N(e))}),[N,P]),w=d((function(e,s){var t,r=null===(t=O[s].props)||void 0===t?void 0:t.onClick;P.has(s)||(r&&r(s),W(s))}),[O,P,W]),z=d((function(e){return O[e]}),[O]),R=m((function(){return Array.from(P)}),[P]),q=a(),D=u({ref:q,numberOfItemsInLine:null==O?void 0:O.length,itemsCount:null==O?void 0:O.length,getItemByIndex:z,onItemClicked:w,disabledIndexes:R}),F=D.activeIndex,J=D.onSelectionAction,Q=m((function(){return i.Children.map(O,(function(e,s){return i.cloneElement(e,{value:s,active:H===s,focus:F===s,onClick:J,className:t(I.tabListTabWrapper,e.props.className),tabInnerClassName:t(I.tabListTabInner,e.props.tabInnerClassName)})}))}),[O,H,F,J]);return s("div",Object.assign({ref:_,className:t(I.tabsWrapper,g,[h(I,r(k))]),id:C,"data-testid":B||b(v.TAB_LIST,C)},{children:s("ul",Object.assign({ref:q,tabIndex:0,className:t(I.tabsList,[h(I,A)]),role:"tablist"},{children:Q}))}))}));Object.assign(j,{isTabList:!0});var g=j;export{g as default};
