import{slicedToArray as t,defineProperty as o}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as e,jsxs as i}from"react/jsx-runtime";import{camelCase as s}from"lodash-es";import{getStyle as r}from"../../helpers/typesciptCssModulesHelper.js";import n from"classnames";import{forwardRef as a,useRef as l,useState as p,useCallback as d,useMemo as u,useEffect as m}from"react";import c from"../Button/Button.js";import f from"../../hooks/usePrevious/index.js";import v from"../../hooks/useMergeRefs.js";import{backwardCompatibilityForProperties as b}from"../../helpers/backwardCompatibilityForProperties.js";import{ButtonWrapper as j}from"./ButtonWrapper.js";import{ButtonType as h}from"../Button/ButtonConstants.js";import{withStaticProps as C}from"../../types/withStaticProps.js";import{getTestId as B}from"../../tests/test-ids-utils.js";import{ComponentDefaultTestId as g}from"../../tests/constants.js";import k from"./ButtonGroup.module.scss.js";import{BASE_SIZES as y}from"../../constants/sizes.js";var N=C(a((function(a,C){var N=a.options,T=a.name,x=void 0===T?"":T,P=a.disabled,S=void 0!==P&&P,O=a.value,A=void 0===O?"":O,D=a.onSelect,z=a.size,L=void 0===z?y.SMALL:z,M=a.kind,R=void 0===M?h.SECONDARY:M,w=a.groupAriaLabel,H=void 0===w?"":w,I=a.tooltipPosition,F=a.tooltipHideDelay,G=a.tooltipShowDelay,_=a.tooltipContainerSelector,E=a.tooltipMoveBy,U=a.id,Y=a["data-testid"],W=b([a.className,a.componentClassName]),q=l(),J=p(A),K=t(J,2),Q=K[0],V=K[1],X=f(A),Z=v({refs:[C,q]}),$=d((function(t){S||t.disabled||(V(t.value),D&&D(t.value,x))}),[D,S,x]),tt=u((function(){return N.find((function(t){return t.value===Q}))}),[N,Q]),ot=u((function(){return N.map((function(t,i){var s,r=t.value===Q;return e(j,Object.assign({size:L,onClick:function(){return $(t)},rightIcon:t.icon,leftIcon:t.leftIcon,active:r,rightFlat:i!==N.length-1,leftFlat:0!==i,kind:c.kinds.TERTIARY,preventClickAnimation:!0,ariaLabel:t.ariaLabel,tooltipContent:t.tooltipContent,tooltipPosition:I,tooltipHideDelay:F,tooltipShowDelay:G,tooltipContainerSelector:_,tooltipMoveBy:E,className:n(k.button,k.optionText,(s={},o(s,k.selected,r),o(s,k.disabled,S),o(s,k.buttonDisabled,t.disabled),s)),activeButtonClassName:k.activeButton},{children:t.text}),t.value)}))}),[N,S,$,L,Q,I,F,G,_,E]);return m((function(){A!==X&&A!==Q&&V(A)}),[A,X,Q,V]),i("div",Object.assign({className:n(k.buttonGroup,W,r(k,s("kind-"+R)),o({},k.disabled,S)),id:U,"data-testid":Y||B(g.BUTTON_GROUP,U),ref:Z},{children:[e("div",Object.assign({role:"group","aria-label":H,className:n(k.buttonsContainer),"aria-disabled":S},{children:ot})),tt&&tt.subText&&e("div",Object.assign({className:n(k.subTextContainer)},{children:tt.subText}))]}))})),{sizes:c.sizes,kinds:c.kinds});export{N as default};
