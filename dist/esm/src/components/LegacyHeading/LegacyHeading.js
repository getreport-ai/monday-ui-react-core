import{slicedToArray as i,defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as s}from"react/jsx-runtime";import{camelCase as t}from"lodash-es";import{getTestId as o,ComponentDefaultTestId as r}from"../../tests/test-ids-utils.js";import l from"classnames";import n,{useLayoutEffect as p}from"react";import a from"../Tooltip/Tooltip.js";import m from"../../hooks/useIsOverflowing/useIsOverflowing.js";import d from"../../hooks/useStyle.js";import u from"../../hooks/useRefWithCallback.js";import f from"../TextWithHighlight/TextWithHighlight.js";import{HeadingTypes as c,HeadingSizes as g}from"./LegacyHeadingConstants.js";import{withStaticProps as h}from"../../types/withStaticProps.js";import v from"./LegacyHeading.module.scss.js";import{getStyle as y}from"../../helpers/typesciptCssModulesHelper.js";import{Sizes as j}from"../../constants/sizes.js";var E=h((function(h){var j,E=h.className,H=h.value,T=void 0===H?"":H,L=h.type,P=void 0===L?c.h1:L,x=h.size,C=void 0===x?g.LARGE:x,O=h.ariaLabel,b=void 0===O?"":O,k=h.id,w=h.customColor,z=h.ellipsis,A=void 0===z||z,I=h.ellipsisMaxLines,N=void 0===I?1:I,W=h.style,G=h.tooltipPosition,M=h.highlightTerm,R=void 0===M?null:M,S=h.suggestEditOnHover,_=void 0!==S&&S,B=h.nonEllipsisTooltip,D=void 0===B?null:B,q=h["data-testid"],F=u((function(i){return i.style.setProperty("--heading-clamp-lines",""+N)})),J=i(F,2),K=J[0],Q=J[1],U=d(W,{color:w}),V=l(v.headingComponent,E,y(v,t("element-type-"+P)),y(v,t("size-"+C)),(e(j={},v.multiLineEllipsis,A&&N>1),e(j,v.singleLineEllipsis,A&&1>=N),e(j,v.suggestEditOnHover,_),j)),X=n.createElement(P,{className:V,"aria-label":b,id:k,"data-testid":q||o(r.HEADING,k),ref:Q,style:U},R?s(f,{highlightTerm:R,text:T,linesToClamp:N,useEllipsis:A,nonEllipsisTooltip:D,tooltipPosition:G}):T),Y=m({ref:A?K:null,ignoreHeightOverflow:!0});if((p((function(){K.current&&K.current.style.setProperty("--heading-clamp-lines",null==N?void 0:""+N)}),[K,N,Y]),!R)&&(Y||D))return s(a,Object.assign({content:Y?T:D,position:G},{children:X}));return X}),{types:c,sizes:j});export{E as default};
