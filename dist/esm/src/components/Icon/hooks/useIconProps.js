import{defineProperty as e}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import{useRef as o,useCallback as n,useMemo as r}from"react";import a from"classnames";import{noop as t}from"lodash-es";import s from"../../../hooks/useEventListener/index.js";import c from"../../../hooks/useKeyEvent/index.js";import{keyCodes as l}from"../../../constants/keyCodes.js";import i from"../../../hooks/useIconScreenReaderAccessProps.js";import m from"../Icon.module.scss.js";var u=[l.ENTER,l.SPACE];function f(l){var f=l.onClick,p=l.className,d=l.clickable,k=l.ignoreFocusStyle,b=l.isDecorationOnly,v=l.iconLabel,y=l.externalTabIndex,C=o(null),x=n((function(e){document.activeElement===C.current&&f(e)}),[C,f]),E=n((function(e){e.preventDefault()}),[]),j=r((function(){var o;return a(m.icon,p,(e(o={},m.clickable,d),e(o,m.noFocusStyle,k),o))}),[d,p,k]);s({eventName:"mousedown",callback:E,ref:C}),c({keys:u,ref:C,callback:x,ignoreDocumentFallback:!0,capture:!0,stopPropagation:!0,preventDefault:!0});var P=n((function(e){(f||t)(e)}),[f]),D=i({isClickable:d,label:v,isDecorationOnly:b});return D.tabIndex=null!=y?y:D.tabIndex,{screenReaderAccessProps:D,onClickCallback:P,computedClassName:j,onEnterCallback:x,iconRef:C}}export{f as default};
