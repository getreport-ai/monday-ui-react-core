import{slicedToArray as e,defineProperty as o}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as n,jsxs as t}from"react/jsx-runtime";import a from"classnames";import{forwardRef as r,useRef as s,useState as i,useCallback as c}from"react";import d from"../../hooks/useMergeRefs.js";import l from"../Icon/Icon.js";import m from"../LegacyHeading/LegacyHeading.js";import p from"../Icon/Icons/components/DropdownChevronDown.js";import{getTestId as f,ComponentDefaultTestId as u}from"../../tests/testIds.js";import h from"./ExpandCollapse.module.scss.js";var v=r((function(r,v){var C,g,j,y=r.children,N=r.headerComponentRenderer,b=void 0===N?null:N,O=r.title,I=void 0===O?"":O,x=r.className,B=r.defaultOpenState,S=void 0!==B&&B,k=r.iconSize,E=void 0===k?24:k,L=r.id,P=void 0===L?"":L,w=r.open,A=r.onClick,D=void 0===A?null:A,H=r.hideBorder,_=void 0!==H&&H,z=r.headerClassName,R=r.contentClassName,T=r.componentClassName,G=r["data-testid"],M=s(null),V=d({refs:[v,M]}),X=i(S),q=e(X,2),F=q[0],J=q[1],K=void 0===w?F:w,Q=c((function(){return"string"==typeof I?n(m,{type:m.types.h5,value:I,className:a(h.headerContent)}):I}),[I]);return n("div",Object.assign({ref:V,className:x,id:P,"data-testid":G||f(u.EXPAND_COLLAPSE,P)},{children:t("div",Object.assign({className:a(h.expandCollapse,(C={},o(C,h.hideBorder,_),o(C,h.showBorder,!_),C),T)},{children:[t("button",Object.assign({type:"button",className:a(h.header,h.section,z,(g={},o(g,h.headerOpen,K),o(g,h.hideBorderBottom,_),g)),onClickCapture:D||function(){J(!F)},"aria-expanded":K,"aria-controls":"".concat(P,"-controls")},{children:["string"!=typeof I||0!==I.length?Q():b&&b(),n(l,{className:a(h.iconComponent,(j={},o(j,h.animateIconOpen,K),o(j,h.animateIconClose,!K),j)),iconType:l.type.SVG,icon:p,iconSize:E,clickable:!1})]})),K&&n("div",Object.assign({className:a(h.content,h.section,R,o({},h.animateExpandCollapseContent,K)),id:"".concat(P,"-controls"),role:"region"},{children:y}))]}))}))}));export{v as default};
