import n,{useMemo as o,useContext as r,useCallback as t}from"react";import e from"../../hooks/useEventListener/index.js";import{useLastNavigationDirection as i}from"../Menu/Menu/hooks/useLastNavigationDirection.js";import{getDirectionMaps as u,getOppositeDirection as a,getOutmostElementInDirection as l,getNextElementToFocusInDirection as c}from"./helper.js";var f=n.createContext(),v=function(n,v){var s=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{disabled:!1}).disabled,d=o((function(){return u(n)}),[n]),m=r(f),b=i().lastNavigationDirectionRef,p=t((function(){var n,o=b.current;if(o&&!s){var r=a(o),t=l(d,r);null==t||null===(n=t.current)||void 0===n||n.focus()}}),[d,s,b]);return e({eventName:"focus",callback:p,ref:v}),{onOutboundNavigation:t((function(n,o){if(!s){var r,t,e=c(d[o],n);if(e)return null===(r=n.current)||void 0===r||r.blur(),void(null===(t=e.current)||void 0===t||t.focus());null==m||m.onOutboundNavigation(v,o)}}),[d,m,v,s])}};export{f as GridKeyboardNavigationContext,v as useGridKeyboardNavigationContext};
