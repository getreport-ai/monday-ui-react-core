import{defineProperty as e}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as o}from"react/jsx-runtime";import{useRef as t,useEffect as n}from"react";import{DialogPosition as i}from"../../../constants/positions.js";import{NOOP as r}from"../../../utils/function-utils.js";import a from"../../Tooltip/Tooltip.js";import{TOOLTIP_SHOW_DELAY as s}from"../SliderConstants.js";import{useSliderSelection as l,useSliderUi as u,useSliderActions as m}from"../SliderContext.js";import c from"classnames";import d from"./SliderThumb.module.scss.js";import{getStyle as p}from"../../../helpers/typesciptCssModulesHelper.js";var f=i.TOP,v=function(i){var v,b=i.className,g=i.index,j=void 0===g?0:g,h=i.onMove,x=void 0===h?r:h,L=i.position,T=void 0===L?0:L,y=i.size,P=i.color,w=l(),D=w.max,E=w.min,O=w.ranged,C=w.value,N=w.valueText,S=O?C[j]:C,B=O?N[j]:N,F=u(),H=F.active,I=F.ariaLabel,M=F.ariaLabelledby,_=F.disabled,z=F.dragging,A=F.focused,V=F.shapeTestId,k=F.showValue,q=m(),G=q.setActive,J=q.setFocused,K=q.setDragging,Q=t(null);function R(){K(null),document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",R)}return n((function(){A===j&&Q&&Q.current&&Q.current.focus()}),[A,j]),o(a,Object.assign({open:H===j||z===j,content:k?null:B,position:f,showDelay:s},{children:o("div",Object.assign({"aria-label":I,"aria-labelledby":M,"aria-valuemax":D,"aria-valuemin":E,"aria-valuenow":S,"aria-valuetext":B,"aria-disabled":_,className:c(d.thumb,p(d,P),p(d,y),(v={},e(v,d.dragging,z===j),e(v,d.focused,A),e(v,d.notDisabledThumb,!_),v),b),"data-testid":V("thumb-".concat(j)),onFocus:function(){J(j),G(j)},onBlur:function(){J(null),G(null)},onPointerDown:function(e){e.stopPropagation(),K(j),document.addEventListener("pointermove",x),document.addEventListener("pointerup",R)},onPointerLeave:function(){G(null)},ref:Q,role:"slider",style:{left:"".concat(T,"%")},tabIndex:_?-1:0},{children:k&&o("label",Object.assign({className:d.label},{children:B}))}))}))};export{v as default};
