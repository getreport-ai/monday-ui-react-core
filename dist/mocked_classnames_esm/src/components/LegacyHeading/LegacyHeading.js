import{slicedToArray as i,defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as s}from"react/jsx-runtime";import{camelCase as t}from"lodash-es";import{getTestId as o,ComponentDefaultTestId as r}from"../../tests/testIds.js";import l from"classnames";import n,{useLayoutEffect as p}from"react";import m from"../Tooltip/Tooltip.js";import a from"../../hooks/useIsOverflowing/useIsOverflowing.js";import d from"../../hooks/useStyle.js";import u from"../../hooks/useRefWithCallback.js";import f from"../TextWithHighlight/TextWithHighlight.js";import{HeadingTypes as c,HeadingSizes as g}from"./HeadingConstants.js";import{withStaticProps as h}from"../../types/withStaticProps.js";import v from"./LegacyHeading.module.scss.js";import{getStyle as y}from"../../helpers/typesciptCssModulesHelper.js";import{Sizes as j}from"../../constants/sizes.js";var E=h((function(h){var j,E=h.className,H=h.value,T=void 0===H?"":H,P=h.type,x=void 0===P?c.h1:P,C=h.size,L=void 0===C?g.LARGE:C,O=h.ariaLabel,b=void 0===O?"":O,k=h.id,w=h.customColor,z=h.ellipsis,I=void 0===z||z,A=h.ellipsisMaxLines,N=void 0===A?1:A,W=h.style,G=h.tooltipPosition,M=h.highlightTerm,R=void 0===M?null:M,S=h.suggestEditOnHover,_=void 0!==S&&S,B=h.nonEllipsisTooltip,D=void 0===B?null:B,q=h["data-testid"],F=u((function(i){return i.style.setProperty("--heading-clamp-lines",""+N)})),J=i(F,2),K=J[0],Q=J[1],U=d(W,{color:w}),V=l(v.headingComponent,E,y(v,t("element-type-"+x)),y(v,t("size-"+L)),(e(j={},v.multiLineEllipsis,I&&N>1),e(j,v.singleLineEllipsis,I&&1>=N),e(j,v.suggestEditOnHover,_),j)),X=n.createElement(x,{className:V,"aria-label":b,id:k,"data-testid":q||o(r.HEADING,k),ref:Q,style:U},R?s(f,{highlightTerm:R,text:T,linesToClamp:N,useEllipsis:I,nonEllipsisTooltip:D,tooltipPosition:G}):T),Y=a({ref:I?K:null,ignoreHeightOverflow:!0});if((p((function(){K.current&&K.current.style.setProperty("--heading-clamp-lines",null==N?void 0:""+N)}),[K,N,Y]),!R)&&(Y||D))return s(m,Object.assign({content:Y?T:D,position:G},{children:X}));return X}),{types:c,sizes:j});export{E as default};
