import{defineProperty as e}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as o,jsxs as t}from"react/jsx-runtime";import{camelCase as r}from"lodash-es";import{getStyle as s}from"../../../../helpers/typesciptCssModulesHelper.js";import n from"classnames";import{forwardRef as i,useMemo as l,useRef as c,useCallback as a,useEffect as m}from"react";import{ColorStyle as d,contentColors as u}from"../../../../utils/colors-vars-map.js";import p from"../../../../utils/colors-utils.js";import f from"../../../Icon/Icon.js";import v from"../../../Tooltip/Tooltip.js";import C from"../../../Clickable/Clickable.js";import{ColorShapes as I}from"../../ColorPickerConstants.js";import{getTestId as j}from"../../../../tests/testIds.js";import{ComponentDefaultTestId as g}from"../../../../tests/constants.js";import b from"./ColorPickerItemComponent.module.scss.js";var E=i((function(i,E){var y,k=i.color,h=i.onColorClicked,L=i.colorStyle,R=void 0===L?d.REGULAR:L,S=i.shouldRenderIndicatorWithoutBackground,O=i.ColorIndicatorIcon,M=i.SelectedIndicatorIcon,A=i.isSelected,N=i.colorSize,P=i.tooltipContent,T=i.isActive,x=i.colorShape,W=i["data-testid"],_=l((function(){return u.includes(k)}),[k]),D=_?p.getMondayColorAsStyle(k,R):k,H=c(null),z=a((function(){return h(k)}),[h,k]);m((function(){if((null==H?void 0:H.current)&&!S&&_){var e=H.current,o=function(e){e.target.style.background=p.getMondayColorAsStyle(k,R===d.SELECTED?d.REGULAR:d.HOVER)},t=function(e){e.target.style.background=D};return e.addEventListener("mouseenter",o,!1),e.addEventListener("mouseleave",t,!1),function(){e.removeEventListener("mouseenter",o,!1),e.removeEventListener("mouseleave",t,!1)}}}),[k,D,R,_,H,S]);var B=A||O,G=S?{color:D}:{};return o(v,Object.assign({content:P},{children:t("li",Object.assign({className:n(b.itemWrapper,(y={},e(y,b.selectedColor,A),e(y,b.active,T),e(y,b.circle,x===I.CIRCLE),y)),"data-testid":W||j(g.COLOR_PICKER_ITEM,k)},{children:[o("div",{className:n(b.feedbackIndicator)}),o(C,Object.assign({ref:H,ariaLabel:k,className:n(b.colorItem,s(b,r("color-item-size-"+N)),e({},b.colorItemTextMode,S)),style:{background:S?"transparent":D},onClick:z,tabIndex:"-1",onMouseDown:function(e){return e.preventDefault()}},{children:o("div",Object.assign({className:n(b.colorIndicatorWrapper),style:G},{children:B&&o(f,{icon:A?M:O,className:n(e({},b.colorIconWhite,!S)),ignoreFocusStyle:!0})}))}))]}))}))}));export{E as default};
