import{slicedToArray as e,defineProperty as o}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsxs as i,jsx as t}from"react/jsx-runtime";import{forwardRef as s,useRef as r,useState as n,useEffect as a,Fragment as l}from"react";import m from"classnames";import d from"../../hooks/useMergeRefs.js";import p from"../Tooltip/Tooltip.js";import c from"../Button/Button.js";import f from"../IconButton/IconButton.js";import h from"../Icon/Icons/components/CloseSmall.js";import u from"./TipseenTitle.js";import{TipseenCloseButtonTheme as T,TIPSEEN_CLOSE_BUTTON_ARIA_LABEL as j}from"./TipseenConstants.js";import{withStaticProps as y}from"../../types/withStaticProps.js";import{backwardCompatibilityForProperties as v}from"../../helpers/backwardCompatibilityForProperties.js";import{ComponentDefaultTestId as g}from"../../tests/constants.js";import{getTestId as C}from"../../tests/testIds.js";import N from"../Text/Text.js";import B from"./Tipseen.module.scss.js";import{EMPTY_ARR as A}from"../../constants/common.js";import{DialogPosition as R}from"../../constants/positions.js";import{AnimationType as w,JustifyType as O}from"../../constants/dialog.js";var b=y(s((function(s,y){var b=s.className,I=s.id,P=s.position,S=void 0===P?R.BOTTOM:P,D=s.animationType,E=void 0===D?w.EXPAND:D,k=s.hideDelay,H=void 0===k?0:k,W=s.showDelay,x=void 0===W?0:W,M=s.title,_=s.titleClassName,L=s.hideCloseButton,X=s.isCloseButtonHidden,Y=s.closeButtonTheme,z=void 0===Y?T.LIGHT:Y,F=s.onClose,G=s.closeAriaLabel,K=s.children,q=void 0===K?null:K,J=s.content,Q=s.justify,U=void 0===Q?O.CENTER:Q,V=s.containerSelector,Z=s.hideTrigger,$=void 0===Z?A:Z,ee=s.showTrigger,oe=void 0===ee?A:ee,ie=s.width,te=s.moveBy,se=s.hideWhenReferenceHidden,re=void 0!==se&&se,ne=s.tip,ae=void 0===ne||ne,le=s.tooltipArrowClassName,me=s.modifiers,de=void 0===me?A:me,pe=s["data-testid"],ce=Array.isArray(oe)&&Array.isArray($)&&0===oe.length&&x>0,fe=r(null),he=d({refs:[y,fe]}),ue=n(!ce),Te=e(ue,2),je=Te[0],ye=Te[1],ve=G||j,ge=v([L,X],!1);a((function(){var e;return x&&(e=setTimeout((function(){ye(!0)}),x)),function(){clearTimeout(e)}}),[x,ye]);var Ce=y||I?"div":l,Ne=i("div",{children:[i("div",Object.assign({className:m(B.tipseenHeader)},{children:[ge?null:t(f,{hideTooltip:!0,className:m(B.tipseenCloseButton,o({},B.dark,z===T.DARK)),onClick:F,size:c.sizes.XS,kind:c.kinds.TERTIARY,color:c.colors.ON_PRIMARY_COLOR,ariaLabel:ve,icon:h}),t(u,{text:M,className:m(B.tipseenTitle,_)})]})),t(N,Object.assign({color:N.colors.ON_PRIMARY,type:N.types.TEXT2,paragraph:!0,className:m(B.tipseenContent)},{children:J}))]});return t(Ce,Object.assign({ref:he,id:I,"data-testid":pe||C(g.TIPSEEN,I)},{children:t(p,Object.assign({className:m(B.tipseenWrapper,b,o({},B.tipseenWrapperWithoutCustomWidth,!ie)),arrowClassName:le,style:ie?{width:ie}:void 0,shouldShowOnMount:!ce,position:S,animationType:E,hideDelay:H,showDelay:x,hideTrigger:$,showTrigger:oe,content:Ne,theme:p.themes.Primary,justify:U,containerSelector:V,disableDialogSlide:!1,moveBy:te,hideWhenReferenceHidden:re,tip:ae,modifiers:de,open:ce?je:void 0},{children:q}))}))})),{closeButtonThemes:T,positions:R,animationTypes:w,justifyTypes:O});export{b as default};
